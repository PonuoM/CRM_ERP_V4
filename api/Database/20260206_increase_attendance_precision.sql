-- =====================================================
-- Fix Attendance Value Precision (0.81 → 0.8125)
-- Date: 2026-02-06
-- 
-- ปัญหา: เก็บ 2 ทศนิยม ทำให้ 6:30 กลายเป็น 6:29
-- แก้ไข: เพิ่มความแม่นยำเป็น 4 ทศนิยม
-- =====================================================

-- Step 1: เปลี่ยน column type เป็น DECIMAL(6,4) เพื่อเก็บค่าได้แม่นยำขึ้น
ALTER TABLE user_daily_attendance 
MODIFY COLUMN attendance_value DECIMAL(6,4) NOT NULL DEFAULT 0.0000;

-- ตรวจสอบว่าเปลี่ยนสำเร็จ
DESCRIBE user_daily_attendance;

-- Note: ค่าเก่าที่เป็น 0.81 จะยังคงเป็น 0.8100
-- ค่าใหม่ที่บันทึกจะเป็น 0.8125 (แม่นยำกว่า)
