# เช็กลิสต์ QA ฝั่ง Frontend

## ขั้นตอนเตรียมพร้อมร่วมกัน
- [ ] ตรวจสอบว่า `.env.local` ตั้งค่า mock credential ถูกต้องและ `npm run dev` เปิดได้โดยไม่เกิด error ใน runtime (คาดหวัง: dev server ตอบสนองบนพอร์ตที่ตั้งไว้และคอนโซลไม่มี error สีแดง)
- [ ] รีเซ็ตเซสชันเบราว์เซอร์หรือเปิดหน้าต่าง Private ก่อนสลับบทบาทผู้ใช้ (คาดหวัง: ทุกการล็อกอินต้องกรอกข้อมูลใหม่และไม่เห็น state ของบทบาทก่อนหน้า)
- [ ] เตรียมชุดข้อมูลทั้งกรณีว่าง, มีบางส่วน และข้อมูลหนาแน่นก่อนเริ่มทดสอบ (คาดหวัง: สลับ fixture ได้โดยไม่ต้องรีสตาร์ตแอป)

## บทบาท: Super Admin

### เซสชันและเมนูนำทาง
- [ ] ล็อกอินด้วยบัญชี Super Admin และยืนยันว่าหน้าแดชบอร์ดแสดง KPI พร้อมข้อมูลสรุป (คาดหวัง: ยอดรวมดึงจากทุกบริษัท หากไม่มีข้อมูลจะแสดงสถานะว่าง)
- [ ] ทดลองพับ/ขยายทุกกลุ่มใน Sidebar เพื่อให้แน่ใจว่ามีเมนู Home, Data Management, Inventory Management, Reports Management, Page Stats, Marketing, Customer Management, Call Management, Settings ครบ และกดแล้วเปลี่ยนหน้าอย่างถูกต้อง (คาดหวัง: แถบ Active เปลี่ยนตรงหน้าและปุ่มย้อนกลับทำงาน)

### หน้า Home
- [ ] ในหน้า `Dashboard` เปลี่ยนค่าฟิลเตอร์บริษัทและตรวจสอบว่าการ์ดสถิติ/กราฟอัปเดตตาม (คาดหวัง: ตัวเลขและเปอร์เซ็นต์เปลี่ยนถูกต้อง กราฟ redraw โดยไม่มี legend ซ้อน)
- [ ] กด CTA `Create Order` จากแดชบอร์ดและยืนยันว่านำไปสู่ฟอร์มสร้างออร์เดอร์พร้อมข้อมูลลูกค้าหากมาจากบริบทที่เลือก (คาดหวัง: กดยกเลิกแล้วกลับมาหน้าเดิมโดยค่าฟิลเตอร์ไม่หาย)
- [ ] ในหน้า `Sales Overview` เปลี่ยนเดือน/ปีและกดปุ่ม refresh กราฟ (คาดหวัง: ค่า KPI ปรับตามช่วงเวลาที่เลือกและปุ่ม refresh แสดงสถานะโหลด ~0.5 วินาที)

### การจัดการลูกค้า
- [ ] ในหน้า `Customers` (ค้นหากลาง) ทดลองค้นหาแบบผสม (ข้อความ+ตัวกรอง) และกด Take customer สำหรับลูกค้าที่พร้อม (คาดหวัง: ตารางสะท้อนผลกรอง ปุ่ม “Take customer” ใช้ได้เฉพาะคนที่ยังไม่ถูกจอง และเมื่อรับแล้วข้อมูลถูกย้ายมาที่ผู้ใช้งานปัจจุบัน)
- [ ] ในหน้า `Manage Customers` ใช้งานค้นหาเร็ว, ฟิลเตอร์ขั้นสูง (ชื่อ, เบอร์, จังหวัด, Lifecycle, Behavioral, Grade, วันที่มอบหมาย/หมดอายุ) เลือกจำนวนต่อหน้า และเปิด modal จัดการแท็ก (คาดหวัง: จำนวนสรุปอัปเดต Panel ขั้นสูงพับ/ขยายได้ และการเพิ่ม/ลบแท็กบันทึกจริง)
- [ ] เปิดลูกค้าจาก `Manage Customers` เพื่อดู drawer รายละเอียดและตรวจสอบข้อมูลสรุป ปุ่มติดต่อ Badge สถานะ Lifecycle และการสลับแท็บ Calls/Appointments/Orders (คาดหวัง: Pagination ในแท็บทำงาน, ตัวชี้ Follow-up แสดงเฉพาะนัดที่ยังค้าง, นัดที่เสร็จแสดงเครื่องหมายถูก)
- [ ] จากหน้ารายละเอียดลูกค้า ทดสอบบันทึกการโทร, สร้างนัด, เริ่มสร้างออร์เดอร์, เปลี่ยนเจ้าของ, เพิ่มแท็กของผู้ใช้ (คาดหวัง: Modal ตรวจสอบฟิลด์บังคับ, สถานะ Lifecycle เปลี่ยนตามที่สรุปไว้, รายการเจ้าของแสดงตามสิทธิ)
- [ ] ในหน้า `Customer Pools` สลับแท็บ Ready / Waiting Basket / Assigned / Blocked ใช้ค้นหา และทดลองกด Return to Pool หรือ View Detail (คาดหวัง: ตัวนับอัปเดต, ตัวจับเวลาแสดงถูกต้อง, ปุ่มทำงานตามกติกา)
- [ ] ในหน้า `Share` (Customer Distribution) ทดสอบฟิลเตอร์แหล่งที่มา, โหมดแจกจ่าย (average, backlog, grade A), การแจกมือ, ระบุเหตุผล skip และ commit (คาดหวัง: ตารางพรีวิวสะท้อนจำนวนต่อเอเจนต์, ลูกค้าที่ถูกข้ามเก็บเหตุผล, กด Confirm แล้วข้อมูลใน pool รีเฟรช)

### ออร์เดอร์และระบบจัดส่ง
- [ ] ใช้หน้า `Create Order` เพิ่มสินค้า, ใส่โปรโมชัน, เลือกคลัง และบันทึก (คาดหวัง: ยอดรวม recalculated เมื่อปรับจำนวน, ระบบไม่ให้ส่งฟอร์มว่าง, บันทึกสำเร็จแล้วล้างฟอร์มและออร์เดอร์ปรากฏใน Manage Orders)
- [ ] ในหน้า `Manage Orders` ทดสอบฟิลเตอร์สถานะ, เลือกหลายรายการ, ดำเนินการ (approve/ship) และเปิด modal จัดการเพื่อแก้ไขรายการ (คาดหวัง: Badge สถานะเปลี่ยนถูกต้อง, การประมวลผลหลายรายการถามยืนยัน, การแก้ไขสะท้อนในรายละเอียด)
- [ ] ในหน้า `Bulk Tracking` อัปโหลด CSV จำลอง, แมปคอลัมน์, ดูพรีวิว และ commit (คาดหวัง: ตัว parser จับ header ได้, แถวผิดพลาดถูกแจ้ง, สำเร็จแล้ว tracking และ log ถูกอัปเดต)
- [ ] ใน `Order Allocation` ตรวจสอบว่า heatmap/ตารางแสดงคำสั่งค้าง, ปรับ slider หรือฟิลเตอร์ และส่งผล (คาดหวัง: สรุปจำนวนตรงกับที่เลือกและมี toast ยืนยัน)
- [ ] ใน `Debt Collection` ตรวจสอบรายการค้างชำระ, ใช้ฟิลเตอร์มูลค่าหรืออายุ, เปิด modal บันทึกการโทร/Action และปิดสถานะหนี้ (คาดหวัง: หนี้ที่ปิดแล้วหายจากรายการ, ปุ่ม “log call” เปิด modal ที่เกี่ยวข้อง)

### Inventory Management
- [ ] ใน `Warehouses` สร้าง, แก้ไข, ปิดการใช้งานคลัง พร้อมตรวจสอบว่าขั้นตอนผูกกับบริษัทถูกต้อง (คาดหวัง: คลังใหม่ขึ้นในรายการและเลือกได้ใน Create Order, คลังที่ปิดแสดงสถานะ)
- [ ] ใน `Warehouse Stock` สลับคลัง, ตรวจการ์ด SKU และกราฟความเคลื่อนไหว (คาดหวัง: มี Loading indicator ขณะดึงข้อมูล, แจ้งเตือน low stock แสดง)
- [ ] ใน `Lot Tracking` ค้นหาด้วยรหัส lot, ดู timeline และทำเครื่องหมาย reconciled (คาดหวัง: เหตุการณ์เรียงตามเวลา, ปรับสถานะแล้วบันทึกเวลา)
- [ ] ใน `Active Promotions` หรือ `Promotion History` ทดลองฟิลเตอร์, เปิดรายละเอียด, สร้างโปรโมชันใหม่ (คาดหวัง: ตรวจสอบช่วงวันที่ถูกต้อง, โปรโมชันที่สร้างแสดงในรายการ Active และย้ายไป History เมื่อหมด)
- [ ] หากหน้า `Receive Stock` เปิดใช้งาน ทดสอบสแกน/กรอกสินค้าและยืนยันรับเข้า (คาดหวัง: จำนวนเพิ่มที่คลังและมีแบนเนอร์ยืนยัน)

### Call Management
- [ ] ใน `Calls Overview` ตรวจ KPI รวมตาม agent, ใช้ฟิลเตอร์วันที่/ทีม และดูกราฟเทรนด์ (คาดหวัง: ค่าปรับตามฟิลเตอร์และ tooltip แสดงข้อมูลถูกต้อง)
- [ ] ใน `Call Details` ใช้ฟิลเตอร์ (สถานะ, เจ้าหน้าที่, ผลลัพธ์), เปลี่ยนหน้า และเปิดบันทึกการโทร (คาดหวัง: Filter chip ลบได้, Action ที่ไม่ได้รับอนุญาตถูกปิด)
- [ ] ใน `Call History` หรือ `Dtac Onecall` ตรวจสอบว่ามีพารามิเตอร์ party สำหรับ supervisor, ทดลองดาวน์โหลด CSV และกด refresh (คาดหวัง: Dropdown agent ใช้งานได้, ไฟล์ดาวน์โหลดสะท้อนฟิลเตอร์, มี toast หาก API ล้มเหลว)

### Marketing
- [ ] ในหน้า `Marketing` สลับแท็บ (Dashboard, Ads, Ads Input, Ads History, User Management) และตรวจสอบว่ามีตัวโหลดก่อนข้อมูลมา (คาดหวัง: สลับแท็บแล้วคำขอเดิมถูกยกเลิก, ไม่มี error ที่ไม่ได้จัดการ)
- [ ] ใน Dashboard ปรับช่วงวันที่, เลือกหน้า/ผู้ใช้, สลับมุมมอง user/page, เปลี่ยนหน้า และ export (คาดหวัง: สรุปตัวเลขตรงกับฟิลเตอร์, export สร้างไฟล์ CSV ตรงตามข้อมูลที่เห็น)
- [ ] ใน Ads Input โหลดรายชื่อเพจ, บันทึกค่าใช้จ่าย, ตรวจสอบ validation และส่ง (คาดหวัง: ไม่รับค่าติดลบ, บันทึกสำเร็จมี toast และแสดงข้อมูลล่าสุด)
- [ ] ใน User Management กำหนดสิทธิผู้ใช้ต่อเพจ, ปรับระดับ และลบการมอบหมาย (คาดหวัง: การเปลี่ยนแปลงคงอยู่หลัง refresh, ผู้ใช้ที่ล็อกไม่สามารถแก้ไขได้)

### รายงานและ Analytics
- [ ] ใน `Reports` ปรับฟิลเตอร์ (วันที่, สถานะ, เจ้าของ) และตรวจสอบว่ากราฟ/ตารางอัปเดตพร้อมยอดรวม (คาดหวัง: ปุ่ม print/export ใช้ฟิลเตอร์เดียวกัน)
- [ ] ใน `Product Sales Report` เลือกหมวดสินค้า, ช่วงเวลา และตรวจสอบตาราง/กราฟยอดขาย (คาดหวัง: ปรับการรวมโปรโมชันแล้วตัวเลขเปลี่ยนตาม)
- [ ] ใน `Import Export` ทดสอบนำเข้าลูกค้าและออร์เดอร์ (ดาวน์โหลดเทมเพลต, ตรวจ error, ยืนยันสำเร็จ) และทดลอง export เฉพาะส่วน (คาดหวัง: แถวผิดแสดงเลขบรรทัด, สำเร็จมีสรุป, export เคารพฟิลเตอร์)
- [ ] ใน `Export History` ตรวจรายการ export ล่าสุด, ฟิลเตอร์ตามประเภท/วันที่ และลอง retry งานที่ล้มเหลว (คาดหวัง: การแบ่งหน้าเก็บสถานะไว้, retry เปลี่ยนสถานะเป็น processing/success)
- [ ] ใน `Page Stats` และ `Page Performance` เปรียบเทียบช่วงเวลา, เจาะดูข้อมูลรายเพจ และตรวจ KPI เทียบกราฟ (คาดหวัง: เลือกเพจแล้วตาราง engagement เปลี่ยน, หากไม่มีข้อมูลให้แสดงข้อความว่าง)
- [ ] ใน `Engagement Insights` เลือกฟิลเตอร์ (เพจ, เจ้าของ, อุปกรณ์) ตรวจ heatmap กับตาราง และดาวน์โหลด CSV (คาดหวัง: ข้อมูลสองส่วนสอดคล้องกัน, ไฟล์ดาวน์โหลดมีแถวตามฟิลเตอร์)
- [ ] ใน `Pancake User Mapping` เชื่อมบัญชี, ยกเลิกเชื่อม และแก้ปัญหาซ้ำซ้อน (คาดหวัง: บันทึกแล้วมีข้อความสำเร็จ, รายการที่ขัดแย้งถูกไฮไลต์)

### การตั้งค่าและงานผู้ดูแล
- [ ] ใน `Users` เปิด modal เพิ่ม/แก้ไข, ตรวจสอบการเลือก role/company, บังคับ unique username, และเปลี่ยนสถานะ active/inactive (คาดหวัง: Non Super Admin ไม่สามารถตั้ง role Super Admin ได้, สถานะเปลี่ยนทันทีในตาราง)
- [ ] ใน `Permissions` สลับสิทธิ view/use และตรวจว่า Sidebar ซ่อน/โชว์เมนูหลัง reload (คาดหวัง: หน้าที่ยึดสิทธิ์หายไป, เข้าตรง URL แล้วถูก redirect หรือแสดงข้อความไม่มีสิทธิ์)
- [ ] ใน `Teams` สร้างทีมใหม่, กำหนด Supervisor/สมาชิก และตรวจ metric ทีม (คาดหวัง: จำนวนสมาชิกอัปเดต, Supervisor ไม่ถูกเพิ่มซ้ำทีมอื่นหากมีกฎ)
- [ ] ใน `Pages` เพิ่มเพจใหม่พร้อมข้อมูล, แก้ไข และ archive (คาดหวัง: ตรวจสอบ URL/Page ID, เพจที่ archive หายจากตัวกรอง marketing)
- [ ] ใน `Tags` สร้าง tag ระบบและผู้ใช้, เปลี่ยนชื่อ tag ผู้ใช้, รวม tag ซ้ำถ้ามีฟังก์ชัน (คาดหวัง: tag ระบบห้ามแก้, tag ใหม่ใช้งานได้ใน modal ลูกค้า)
- [ ] ใน `Companies` แก้โปรไฟล์บริษัท, เพิ่มผู้ติดต่อ, ปรับสถานะ และตรวจ dropdown ที่เกี่ยวข้อง (คาดหวัง: บริษัทที่ปิดไม่แสดงในรายการแจก)
- [ ] ตรวจหน้า `Data Management` ที่รวมจำนวนผู้ใช้/ลูกค้า/ออร์เดอร์พร้อมลิงก์ไปหน้าหลัก (คาดหวัง: ค่า tally ตรงกับข้อมูลจริงและลิงก์ทำงาน)

### Modal ร่วมและการจัดการข้อผิดพลาด
- [ ] ทริกเกอร์ modal กลางทุกตัว (Log Call, Appointment, Order Management, Manage Tags, User Management, Confirmation) จากหน้าที่เกี่ยวข้อง (คาดหวัง: ดีไซน์คงเส้นคงวา, validation ทำงาน, ปิด modal แล้วตำแหน่ง scroll คงเดิม)
- [ ] จำลองกรณี API ล้มเหลว เช่น ปิดเครือข่ายระหว่างส่งฟอร์มสำคัญ เพื่อดู toast/error และกลไก retry (คาดหวัง: modal ยังเปิดและ retry ล้าง state error ได้)
- [ ] ทดสอบ Responsive โดยปรับขนาดหน้าจอเป็น Tablet/Mobile (คาดหวัง: Navigation ยุบเป็น Hamburger, ตารางยังอ่านได้พร้อมแถบเลื่อนแนวนอน)

## บทบาท: Admin Page

### เซสชันและเมนูนำทาง
- [ ] ล็อกอินด้วยบัญชี Admin Page และยืนยันว่าลงที่แดชบอร์ดพร้อม KPI ที่จำกัดเฉพาะลูกค้า/ออร์เดอร์ที่ตนดูแล (คาดหวัง: ตัวเลขสะท้อนเฉพาะของตน)
- [ ] ตรวจว่าด้านข้างมีเฉพาะ Home, Orders, Search, Call Management และเมนูระดับสูงอื่นถูกซ่อน (คาดหวัง: หากพยายามเข้าหน้าต้องห้ามถูก redirect)

### แดชบอร์ดและการทำงานหลัก
- [ ] บนแดชบอร์ดตรวจว่า KPI/กราฟใช้ข้อมูลเฉพาะที่ admin ดูแล (คาดหวัง: เปลี่ยนเจ้าของลูกค้าแล้วตัวเลขปรับ)
- [ ] ใช้ฟอร์ม `Create Order` แบบครบกระบวนการกับลูกค้าที่ตนได้รับ (คาดหวัง: เลือกลูกค้าได้เฉพาะของตน, บันทึกสำเร็จแล้วมี toast และกลับแดชบอร์ด)
- [ ] กดยกเลิกกลางทางและตรวจว่าฟอร์มไม่ค้างข้อมูลเก่าเมื่อเปิดใหม่ (คาดหวัง: ฟอร์มว่างเสมอ)

### ออร์เดอร์และลูกค้า
- [ ] ในหน้า `Orders` ใช้ฟิลเตอร์สถานะ/ช่วงเวลาและเปิด modal เพื่อแก้ไข (คาดหวัง: ไม่สามารถจัดการออร์เดอร์ที่ไม่ใช่ของตน)
- [ ] ในหน้า `Search` หาลูกค้าที่ว่าง กด claim และตรวจว่าปรากฏใน KPI ของแดชบอร์ด (คาดหวัง: ปุ่ม claim ถูกปิดเมื่อมีเจ้าของ)
- [ ] เปิดรายละเอียดลูกค้าจากผลค้นหาเพื่อบันทึกการโทรและตั้ง Follow-up (คาดหวัง: เมื่อนัดถูกสร้าง สถานะเป็น FollowUp)

### การจัดการสาย
- [ ] ใน `Calls Overview` เปรียบเทียบเมตริกส่วนตัวกับรวม (คาดหวัง: เห็นยอดรวมทีมแต่ไม่เห็นของบริษัทอื่น)
- [ ] ใน `Call Details` กรองเฉพาะข้อมูลตัวเอง ดาวน์โหลดรายงาน และตรวจว่าปุ่มที่ไม่มีสิทธิ์ถูกปิด (คาดหวัง: ปุ่มนัด follow-up เปิด modal และเลือก admin เป็นผู้ทำ)
- [ ] ใน `Call History` ตรวจว่าดูได้แค่บันทึกของลูกค้าหรือสายที่เกี่ยวข้องกับตน (คาดหวัง: หากเข้าของคนอื่นแสดงแจ้งเตือนสิทธิ์)

## บทบาท: Supervisor Telesale

### เซสชันและเมนูนำทาง
- [ ] ล็อกอินด้วย Supervisor และยืนยันว่าลงที่ Telesale Summary Dashboard พร้อม 4 หมวด Do (คาดหวัง: ระบบ refresh อัตโนมัติทุก 60 วินาที)
- [ ] ตรวจว่ามีเมนู Customers, Orders, Search, Call Management และ Team (คาดหวัง: Team มีเฉพาะ Supervisor)

### Do Dashboard และการดูแลทีม
- [ ] ใน `Telesale Summary Dashboard` ตรวจจำนวนในแต่ละหมวด, คลิกเข้าไปดูรายการ และใช้ Quick action เช่น โทร, ตั้งนัด, เปิดออร์เดอร์ (คาดหวัง: จำนวนลดเมื่อทำเสร็จ, การเลื่อนนัดขึ้นวันที่ใหม่)
- [ ] ใน `Telesale Dashboard` ตรวจ KPI, feed กิจกรรม และปฏิทิน พร้อมฟิลเตอร์ทีม (คาดหวัง: ข้อมูลรวมทั้งทีมและกรองตาม agent ได้)
- [ ] ในหน้า `Team` ดูรายชื่อ, สลับลูกค้าในทีม, ตรวจกราฟผลงาน (คาดหวัง: เปลี่ยนเจ้าของได้เฉพาะในทีมตน, กราฟอัปเดต)

### ลูกค้าและออร์เดอร์
- [ ] ใน `Customers`, `Manage Customers`, `Customer Pools` ค้นหาลูกค้าในทีมและเปิดรายละเอียด (คาดหวัง: รายการเจ้าของใหม่รวม Supervisor และ telesale ในทีม)
- [ ] จากรายละเอียดลูกค้า ลองเปลี่ยนเจ้าของเป็นสมาชิกทีมและคนนอกทีม (คาดหวัง: เปลี่ยนในทีมสำเร็จ, นอกทีมถูกบล็อกพร้อมข้อความเตือน)
- [ ] ใน `Orders` กรองตามสมาชิกทีม ยกเลิกออร์เดอร์ และเช็กว่ามีการแจ้งเตือนและอัปเดตแดชบอร์ด (คาดหวัง: Log บันทึกการยกเลิก)

### การจัดการสายและ Compliance
- [ ] ใน `Call Details` กรองตาม agent ในทีมและตรวจผลรวม (คาดหวัง: ตั้งหมายงานหรือมอบหมาย follow-up ได้)
- [ ] ใน `Call History` เลือก agent เฉพาะและยืนยันว่าคำขอ API ส่ง party parameter (คาดหวัง: CSV ที่ดาวน์โหลดมีรหัส agent)
- [ ] ลองเข้าหน้า Settings ที่ไม่มีสิทธิ์ (คาดหวัง: แสดง toast หรือ redirect ตามมาตรฐาน)

## บทบาท: Telesale

### เซสชันและเมนูนำทาง
- [ ] ล็อกอินด้วย Telesale และยืนยันว่าลงที่ Do dashboard ส่วนตัว (คาดหวัง: จำนวน Do มีเฉพาะลูกค้าของตนและ refresh อัตโนมัติ)
- [ ] ตรวจ Sidebar มีเฉพาะ Home, Customers, Orders, Search, Call Management (คาดหวัง: ไม่มี Team)

### งานประจำวัน
- [ ] ในแต่ละหมวด Do ทำตัวอย่างการกระทำ เช่น บันทึกการโทร, ตั้ง follow-up, สร้างออร์เดอร์, เลื่อนนัด (คาดหวัง: สถานะ lifecycle เปลี่ยนตามกติกา Implementation Summary)
- [ ] ใช้ Quick action เปิด modal โทร, นัดหมาย, สร้างออร์เดอร์ (คาดหวัง: ข้อมูลลูกค้าถูกกรอก, validation ทำงาน, ปิด modal แล้วรายการยังอยู่ตำแหน่งเดิม)
- [ ] จากรายละเอียดลูกค้า เพิ่มโน้ตการโทร, ดูรายการนัด, ส่งคำขอเปลี่ยนเจ้าของ (คาดหวัง: ขอเปลี่ยนได้เฉพาะให้ Supervisor)

### การรับลูกค้าใหม่
- [ ] ใน `Customers` ค้นหาลูกค้าที่ว่าง กด Take และตรวจว่าขึ้นใน Do dashboard (คาดหวัง: ได้สิทธิ์ 90 วันเริ่มนับและสถานะปรากฏ)
- [ ] ใน `Customer Pools` ย้ายลูกค้าไป Waiting Basket และย้ายกลับ (คาดหวัง: ตัวจับเวลาปรับตามและป้องกันการแจกซ้ำทันที)
- [ ] ใน `Manage Customers` ใช้ฟิลเตอร์ขั้นสูงและจัดการแท็กสำหรับพอร์ตของตน (คาดหวัง: สถิติส่วนตัวสะท้อนการเปลี่ยน)

### ออร์เดอร์และการโทร
- [ ] ใน `Orders` ดูออร์เดอร์ของตน, ส่งคำขอยกเลิก พร้อมเหตุผล (คาดหวัง: สถานะเปลี่ยนและ Do dashboard ปรับตาม)
- [ ] ใน `Call Details` และ `Call History` ยืนยันว่าเห็นได้เฉพาะข้อมูลของตัวเอง (คาดหวัง: การเรียก dtac ใช้เบอร์ผูกกับผู้ใช้และการเข้าถึงที่ไม่ได้รับอนุญาตถูกปิด)

## บทบาท: Marketing

### เซสชันและเมนูนำทาง
- [ ] ล็อกอินด้วย Marketing และตรวจว่า Sidebar มี Home และ Marketing เท่านั้น (คาดหวัง: เมนูอื่นถูกซ่อน)
- [ ] ยืนยันว่าแท็บเริ่มต้นบนหน้า Marketing โหลด dashboard พร้อมตัวชี้สถานะ (คาดหวัง: หาก API error แสดงข้อความชัดเจน)

### Marketing Dashboard
- [ ] ปรับช่วงวันที่, เปิดตัวกรองเพจ/ผู้ใช้, สลับมุมมอง user/page, เปลี่ยนหน้า และตรวจว่ากราฟ/ตารางอัปเดต (คาดหวัง: ยอดรวมสอดคล้องกับฟิลเตอร์, Cache ถูกรีเซ็ตเมื่อมีการปรับ)
- [ ] ดาวน์โหลด CSV ของ dashboard หลังตั้งฟิลเตอร์ (คาดหวัง: ไฟล์ตรงกับข้อมูลที่เห็น)

### การจัดการ Ads
- [ ] ในแท็บ Ads ตรวจลิสต์โปรโมชัน เปิดแก้ไขงบประมาณ และบันทึก (คาดหวัง: บันทึกแล้วข้อมูลอัปเดตหลัง reload)
- [ ] ใน Ads Input กรอกค่าใช้จ่ายต่อเพจ, ตรวจ validation, กดบันทึก (คาดหวัง: รับเฉพาะค่าบวก, Toast แสดงเมื่อสำเร็จ, ตารางรีโหลด)
- [ ] ใน Ads History เปลี่ยนหน้า, ฟิลเตอร์, ดาวน์โหลด log (คาดหวัง: Pagination ฝั่งเซิร์ฟเวอร์ทำงาน, ไฟล์ตรงกับข้อมูลที่ฟิลเตอร์)

### การจัดการผู้ใช้
- [ ] กำหนดสิทธิ์ผู้ใช้การตลาดกับเพจ, ปรับระดับสิทธิ์, ลบความเชื่อมโยง (คาดหวัง: การเปลี่ยนแปลงคงอยู่, หากเป็นผู้ใช้ระบบจะถูกป้องกันไม่ให้แก้ไข)
- [ ] พยายามแก้ไขผู้ใช้ที่ควบคุมโดยระบบเพื่อยืนยันว่ามีการแจ้งเตือนสิทธิ์ (คาดหวัง: Toast แจ้งเตือน)

## บทบาท: Backoffice

### เซสชันและเมนูนำทาง
- [ ] ล็อกอินด้วย Backoffice และยืนยันว่าแดชบอร์ดแสดงสถิติคำสั่งเปิดค้าง/งานจัดส่ง (คาดหวัง: ข้อมูลจำกัดในบริษัท)
- [ ] ตรวจ Sidebar มี Home, Manage Orders, Debt, Inventory Management, Search, Reports, Export History, Bulk Tracking (คาดหวัง: Data Management ถูกซ่อน)

### การประมวลผลออร์เดอร์
- [ ] ใน `Backoffice Dashboard` กดวิดเจ็ตเพื่อไปหน้าที่กรองไว้ (คาดหวัง: กด Open Orders แล้วไป Manage Orders พร้อมฟิลเตอร์)
- [ ] ใน `Manage Orders` ดำเนินการอนุมัติเป็นชุด, ปรับข้อมูลจัดส่ง, กำหนดผู้ประสานงาน (คาดหวัง: Wizard ทำงานครบและสถานะอัปเดต)
- [ ] เปิด modal จัดการออร์เดอร์เพื่อแก้ไขสินค้า, เปลี่ยนคลัง, เพิ่มโน้ตภายใน (คาดหวัง: ตรวจ stock คงเหลือก่อนอนุญาต, โน้ตบันทึกจริง)

### หนี้และการปฏิบัติตาม
- [ ] ใน `Debt` กรองตาม bucket อายุ, บันทึกการโทร, ตั้งสัญญาชำระ, ปิดสถานะ (คาดหวัง: รายการที่ปิดย้ายไป history และวันที่นัดชำระแสดง)
- [ ] ใน `Bulk Tracking` อัปโหลด sheet tracking และตรวจแจ้งเตือน order ID ซ้ำ (คาดหวัง: มี error ก่อน commit)

### การจัดการสินค้า
- [ ] ใน `Warehouses` ปรับค่า threshold, กำหนดผู้ดูแล, ตรวจว่ากลุ่มสินค้าปรับตาม (คาดหวัง: การตั้งค่าใหม่มีผลและแจ้งเตือน stock)
- [ ] ใน `Warehouse Stock` สลับคลัง, ดาวน์โหลด stock, ตรวจ badge สินค้าน้อย (คาดหวัง: ไฟล์ export เคารพคลังที่เลือก)
- [ ] ใน `Lot Tracking` ค้นหา, ปรับสถานะ, ตรวจ timeline (คาดหวัง: ลำดับเวลาไม่ผิดพลาด)
- [ ] ใน `Warehouse Allocation` กระจายคำสั่งค้างไปแต่ละคลังและยืนยัน (คาดหวัง: สรุปจำนวนก่อนและหลังตรงกัน)

### การค้นหาและรายงาน
- [ ] ใน `Search` ค้นหาลูกค้าหรือออร์เดอร์ ปรับสถานะภายในสิทธิ์ Backoffice (คาดหวัง: ไม่เห็นตัวเลือกสำหรับการแจกลูกค้าที่ไม่ได้รับอนุญาต)
- [ ] ใน `Reports` รันรายงานปฏิบัติการและ export (คาดหวัง: ฟิลเตอร์รวมสถานะ fulfillment และ export ใช้ฟิลเตอร์เดียวกัน)
- [ ] ใน `Export History` ลอง retry งานที่ล้มเหลวและตรวจสถานะใหม่ (คาดหวัง: Badge เปลี่ยนเป็น processing/สำเร็จหลัง refresh)

### เครื่องมือร่วม
- [ ] ทดสอบว่า Backoffice ไม่สามารถเข้าหน้า Marketing หรือ Data Management ผ่าน URL ตรง (คาดหวัง: เจอข้อความหรือ redirect สิทธิ์)
- [ ] ตรวจว่า modal จากหน้าต่างๆ เช่น order, debt, tracking คงตำแหน่ง scroll และปิดได้ปกติ (คาดหวัง: ขณะ modal เปิด หน้าหลังไม่เลื่อน)
